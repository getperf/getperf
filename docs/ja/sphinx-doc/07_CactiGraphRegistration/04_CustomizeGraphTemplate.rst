グラフテンプレートカスタマイズ
==============================

Cacti 利用上の注意点
--------------------

Cacti
管理コンソールを用いてWebブラウザからテンプレートの編集をします。編集方法については\ `Cactiマニュアル <http://www.cacti.net/downloads/docs/html/>`_\ を参照してください。ここでは、固有の注意点を記します。

-  マルチデバイスのグラフテンプレート

   マルチデバイス構成の場合、"{テンプレート名} - {n} cols"
   という名前のテンプレートが複数作成されます。{n}はCactiのアイテム数に相当します。最大値はグラフ定義の
   legend\_max の値の数分となり、
   **cacti-cli**　コマンドはその値の数分のグラフテンプレートを一括で作成します。Cacti
   管理コンソールは個々のテンプレートの編集しかできないため、\ **cacti-cli**\ コマンドを実行する前に、予め
   **\_\_root\_\_**
   テンプレートで必要なプロパティを編集します。編集したテンプレートを基にテンプレートが作成されるため、効率的にテンプレートの編集ができます。

-  グラフタイトルの設定

   グラフテンプレートのタイトル定義のプロパティで左側のチェック項目の"Use
   Per-Graph
   Value"は必ずチェックしてください。チェックをすることでグラフ実体に個別の名前を登録することができます。

   .. figure:: ../image/cacti_console1.png
      :align: center
      :alt: グラフテンプレート定義

      グラフテンプレート定義

テンプレートのエクスポート、インポート
--------------------------------------

ホストテンプレートを指定して、そのホストが属するグラフテンプレート一式をエクスポート・インポートします。例えばLinux
のホストテンプレートのエクスポートは以下となります。

::

    cacti-cli --export Linux

以下のパスにエクスポートファイルを出力します

::

    lib/cacti/template/0.8.8e/cacti-host-template-Linux.xml

ホストテンプレートに属するすべてのグラフテンプレート、データソーステンプレートをエクスポートします。インポートする場合は以下のコマンドとなります

::

    cacti-cli --import Linux

すでにホストテンプレートがある場合は何もせずに処理をスキップします。再登録したい場合は、一旦ホストテンプレートを削除してインポートコマンドを実行してください
